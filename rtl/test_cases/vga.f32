VGA_LAYERS = 0xE0000000
VGA_LAYER0_ADDR     = 0x100
VGA_LAYER0_X1       = 0x104
VGA_LAYER0_Y1       = 0x108
VGA_LAYER0_X2       = 0x10C
VGA_LAYER0_Y2       = 0x110
VGA_LAYER0_STRIDE   = 0x114
VGA_LAYER1_ADDR     = 0x120
VGA_LAYER1_X1       = 0x124
VGA_LAYER1_Y1       = 0x128
VGA_LAYER1_X2       = 0x12C
VGA_LAYER1_Y2       = 0x130
VGA_LAYER1_STRIDE   = 0x134





SCREEN_START = 0x3f80000
SCREEN_END   = 0x3fcb000


ld $5, 0xE0000000

ld $4, 0x100
stw $4, $5[VGA_LAYER1_X1]
stw $4, $5[VGA_LAYER1_Y1]
ld $4, 0x200
stw $4, $5[VGA_LAYER1_X2]
ld $4, 0x110
stw $4, $5[VGA_LAYER1_Y2]
stw $1, $5[VGA_LAYER1_STRIDE]
stw 0, $5[VGA_LAYER1_ADDR]

ld $1, SCREEN_START
ld $2, SCREEN_END
ld $3, 0x000000FF

loop:
    stw  0, $1[0]
    stw $3, $1[4]
    add $1, $1, 8
    blt $1, $2, loop

ret